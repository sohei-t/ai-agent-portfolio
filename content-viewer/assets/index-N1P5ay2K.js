const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DWMtZUe4.js","assets/router-DZPHsDLW.js","assets/Layout-B-RYqJTg.js","assets/play-BJpg_A95.js","assets/firebase-B_HbBKsG.js","assets/Login-BVz3Zouj.js","assets/lock-BZtXG7nA.js","assets/ClassroomList-BvnP_6Zs.js","assets/firestore-g5Y3pXIM.js","assets/ClassroomDetail-DGDBLgLL.js","assets/ViewerPage-B5u1a47T.js"])))=>i.map(i=>d[i]);
import{r as d,a as S,B as $,R as D,b as x,c as O}from"./router-DZPHsDLW.js";import{i as T,g as z,G as M,a as W,e as B,o as F,s as V,c as G,u as q,b as H,d as U,f as X,h as K,j as E,k as v}from"./firebase-B_HbBKsG.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var L={exports:{}},j={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=d,J=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),Q=Object.prototype.hasOwnProperty,ee=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,te={key:!0,ref:!0,__self:!0,__source:!0};function C(t,r,n){var c,s={},a=null,l=null;n!==void 0&&(a=""+n),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(l=r.ref);for(c in r)Q.call(r,c)&&!te.hasOwnProperty(c)&&(s[c]=r[c]);if(t&&t.defaultProps)for(c in r=t.defaultProps,r)s[c]===void 0&&(s[c]=r[c]);return{$$typeof:J,type:t,key:a,ref:l,props:s,_owner:ee.current}}j.Fragment=Y;j.jsx=C;j.jsxs=C;L.exports=j;var e=L.exports,N={},k=S;N.createRoot=k.createRoot,N.hydrateRoot=k.hydrateRoot;const re="modulepreload",se=function(t){return"/"+t},_={},w=function(r,n,c){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=l?.nonce||l?.getAttribute("nonce");s=Promise.allSettled(n.map(u=>{if(u=se(u),u in _)return;_[u]=!0;const h=u.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const o=document.createElement("link");if(o.rel=h?"stylesheet":re,h||(o.as="script"),o.crossOrigin="",o.href=u,i&&o.setAttribute("nonce",i),document.head.appendChild(o),h)return new Promise((m,p)=>{o.addEventListener("load",m),o.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return s.then(l=>{for(const i of l||[])i.status==="rejected"&&a(i.reason);return r().catch(a)})},oe={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},A=T(oe),y=z(A),ne=new M,P=W(A);B(P).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")});const R=d.createContext(null);function De(){const t=d.useContext(R);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function ae({children:t}){const[r,n]=d.useState(null),[c,s]=d.useState(!0),a=async o=>{const m=X(P,"users",o.uid),p=await K(m);if(p.exists()){const f=p.data();return await E(m,{...f,email:o.email,displayName:o.displayName,photoURL:o.photoURL,updatedAt:v()},{merge:!0}),{uid:o.uid,email:o.email||"",displayName:o.displayName,photoURL:o.photoURL,role:f.role||"member",createdAt:f.createdAt?.toDate()||new Date,updatedAt:new Date}}else{const f={uid:o.uid,email:o.email||"",displayName:o.displayName,photoURL:o.photoURL,role:"member",createdAt:v(),updatedAt:v()};return await E(m,f),{...f,createdAt:new Date,updatedAt:new Date}}};d.useEffect(()=>F(y,async m=>{if(m)try{const p=await a(m);n(p)}catch(p){console.error("Error syncing user:",p),n(null)}else n(null);s(!1)}),[]);const g={user:r,loading:c,signInWithGoogle:async()=>{try{await U(y,ne)}catch(o){throw console.error("Google sign-in error:",o),new Error(o.message||"Google sign-in failed")}},signInWithEmail:async(o,m)=>{try{await H(y,o,m)}catch(p){throw console.error("Email sign-in error:",p),new Error(p.message||"Email sign-in failed")}},signUpWithEmail:async(o,m,p)=>{try{const f=await G(y,o,m);await q(f.user,{displayName:p})}catch(f){throw console.error("Email sign-up error:",f),new Error(f.message||"Email sign-up failed")}},signOut:async()=>{try{await V(y)}catch(o){throw console.error("Sign-out error:",o),new Error(o.message||"Sign-out failed")}}};return e.jsx(R.Provider,{value:g,children:t})}const I=d.createContext(null);function ie(){const t=d.useContext(I);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function le({children:t}){const[r,n]=d.useState([]),c=d.useCallback((a,l,i=3e3)=>{const u=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,h={id:u,type:a,message:l,duration:i};n(g=>[...g,h]),i>0&&setTimeout(()=>{s(u)},i)},[]),s=d.useCallback(a=>{n(l=>l.filter(i=>i.id!==a))},[]);return e.jsx(I.Provider,{value:{toasts:r,addToast:c,removeToast:s},children:t})}const ce={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500/50 disabled:bg-primary-400 disabled:opacity-60",secondary:"bg-dark-700 text-white hover:bg-dark-600 focus:ring-dark-500/50 disabled:bg-dark-600 disabled:opacity-60",ghost:"bg-transparent text-white hover:bg-white/10 focus:ring-white/20 disabled:bg-transparent disabled:opacity-60",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500/50 disabled:bg-red-400 disabled:opacity-60"},de={sm:"px-3 py-1.5 text-sm min-h-[36px] min-w-[36px]",md:"px-4 py-2 text-base min-h-[44px] min-w-[44px]",lg:"px-6 py-3 text-lg min-h-[52px] min-w-[52px]"},ue=d.forwardRef(({variant:t="primary",size:r="md",loading:n=!1,fullWidth:c=!1,disabled:s,className:a="",children:l,type:i="button","aria-label":u,...h},g)=>{const o="inline-flex items-center justify-center font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-dark-900 disabled:cursor-not-allowed",m=d.useMemo(()=>`${o} ${ce[t]} ${de[r]} ${c?"w-full":""} ${a}`.trim(),[t,r,c,a]),p=s||n;return e.jsx("button",{ref:g,type:i,disabled:p,"aria-disabled":p,"aria-busy":n,"aria-label":u,className:m,...h,children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",role:"img",children:[e.jsx("title",{children:"Loading"}),e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"sr-only",children:"Loading, please wait..."}),e.jsx("span",{"aria-hidden":"true",children:"Loading..."})]}):l})});ue.displayName="Button";const me=d.forwardRef(({label:t,error:r,helperText:n,className:c="",id:s,...a},l)=>{const i=s||`input-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"w-full",children:[t&&e.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-200 mb-1",children:t}),e.jsx("input",{ref:l,id:i,className:`w-full px-4 py-2 bg-dark-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-colors ${r?"border-red-500 focus:ring-red-500/50":"border-dark-600 focus:ring-primary-500/50 focus:border-primary-500"} ${c}`,"aria-invalid":r?"true":"false","aria-describedby":r?`${i}-error`:n?`${i}-helper`:void 0,...a}),r&&e.jsx("p",{id:`${i}-error`,className:"mt-1 text-sm text-red-400",role:"alert",children:r}),n&&!r&&e.jsx("p",{id:`${i}-helper`,className:"mt-1 text-sm text-gray-400",children:n})]})});me.displayName="Input";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),b=(t,r)=>{const n=d.forwardRef(({color:c="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:u,...h},g)=>d.createElement("svg",{ref:g,...pe,width:s,height:s,stroke:c,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${he(t)}`,i].join(" "),...h},[...r.map(([o,m])=>d.createElement(o,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=b("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=b("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=b("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=b("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=b("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),be={success:e.jsx(ge,{className:"w-5 h-5 text-green-400"}),error:e.jsx(ye,{className:"w-5 h-5 text-red-400"}),info:e.jsx(xe,{className:"w-5 h-5 text-blue-400"}),warning:e.jsx(fe,{className:"w-5 h-5 text-yellow-400"})},je={success:"bg-green-500/10 border-green-500/20",error:"bg-red-500/10 border-red-500/20",info:"bg-blue-500/10 border-blue-500/20",warning:"bg-yellow-500/10 border-yellow-500/20"};function ve(){const{toasts:t,removeToast:r}=ie();return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",role:"region","aria-label":"Notifications",children:t.map(n=>e.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg animate-slide-up ${je[n.type]}`,role:"alert",children:[be[n.type],e.jsx("p",{className:"text-sm text-white",children:n.message}),e.jsx("button",{onClick:()=>r(n.id),className:"ml-2 p-1 rounded hover:bg-white/10 transition-colors","aria-label":"Dismiss notification",children:e.jsx(we,{className:"w-4 h-4 text-gray-400"})})]},n.id))})}const Ne={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};function Ee({size:t="md",className:r=""}){return e.jsxs("div",{className:`flex items-center justify-center ${r}`,role:"status",children:[e.jsxs("svg",{className:`animate-spin ${Ne[t]} text-primary-500`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"sr-only",children:"Loading..."})]})}function ke(){return e.jsx("div",{className:"fixed inset-0 bg-dark-900 flex items-center justify-center z-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ee,{size:"lg"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]})})}const _e=d.lazy(()=>w(()=>import("./Home-DWMtZUe4.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>({default:t.Home}))),Le=d.lazy(()=>w(()=>import("./Login-BVz3Zouj.js"),__vite__mapDeps([5,1,2,6,4])).then(t=>({default:t.Login}))),Ce=d.lazy(()=>w(()=>import("./ClassroomList-BvnP_6Zs.js"),__vite__mapDeps([7,1,2,6,8,4])).then(t=>({default:t.ClassroomList}))),Ae=d.lazy(()=>w(()=>import("./ClassroomDetail-DGDBLgLL.js"),__vite__mapDeps([9,1,2,3,8,4])).then(t=>({default:t.ClassroomDetail}))),Pe=d.lazy(()=>w(()=>import("./ViewerPage-B5u1a47T.js"),__vite__mapDeps([10,1,3,8,4])).then(t=>({default:t.ViewerPage})));function Re(){return e.jsx("main",{className:"min-h-screen bg-dark-900 flex items-center justify-center",role:"main","aria-labelledby":"not-found-title",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{id:"not-found-title",className:"text-4xl font-bold text-white mb-4",children:"404"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Page not found"}),e.jsx("a",{href:"/",className:"text-primary-400 hover:text-primary-300 underline focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-2 focus:ring-offset-dark-900 rounded",children:"Go to Home"})]})})}function Ie(){return e.jsx($,{children:e.jsx(ae,{children:e.jsxs(le,{children:[e.jsx(d.Suspense,{fallback:e.jsx(ke,{}),children:e.jsxs(D,{children:[e.jsx(x,{path:"/",element:e.jsx(_e,{})}),e.jsx(x,{path:"/login",element:e.jsx(Le,{})}),e.jsx(x,{path:"/classrooms",element:e.jsx(Ce,{})}),e.jsx(x,{path:"/classrooms/:classroomId",element:e.jsx(Ae,{})}),e.jsx(x,{path:"/viewer/:classroomId/:contentId",element:e.jsx(Pe,{})}),e.jsx(x,{path:"*",element:e.jsx(Re,{})})]})}),e.jsx(ve,{})]})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(t=>{console.log("Service Worker registration failed:",t)})});N.createRoot(document.getElementById("root")).render(e.jsx(O.StrictMode,{children:e.jsx(Ie,{})}));export{ue as B,ge as C,ke as F,me as I,Ee as L,we as X,ie as a,b as c,P as d,e as j,De as u};
